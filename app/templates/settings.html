<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì„¤ì • - Tax Webtoon Auto-Generator</title>
    <link href="https://fonts.googleapis.com/css2?family=Pretendard:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #6366f1;
            --primary-hover: #4f46e5;
            --bg: #0f172a;
            --bg-card: #1e293b;
            --bg-input: #334155;
            --text: #f1f5f9;
            --text-muted: #94a3b8;
            --border: #475569;
            --success: #22c55e;
            --warning: #f59e0b;
            --danger: #ef4444;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: 'Pretendard', -apple-system, sans-serif;
            background: var(--bg);
            color: var(--text);
            min-height: 100vh;
        }

        header {
            background: var(--bg-card);
            border-bottom: 1px solid var(--border);
            padding: 1rem 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            font-size: 1.25rem;
            font-weight: 700;
            background: linear-gradient(135deg, var(--primary), #a855f7);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        main {
            max-width: 800px;
            margin: 2rem auto;
            padding: 0 1rem;
        }

        h1 {
            font-size: 1.75rem;
            margin-bottom: 1.5rem;
        }

        .tabs {
            display: flex;
            gap: 0;
            border-bottom: 1px solid var(--border);
            margin-bottom: 1.5rem;
        }

        .tab {
            padding: 0.75rem 1.5rem;
            color: var(--text-muted);
            cursor: pointer;
            border-bottom: 2px solid transparent;
            transition: all 0.2s;
        }

        .tab:hover {
            color: var(--text);
        }

        .tab.active {
            color: var(--primary);
            border-bottom-color: var(--primary);
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        .card {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 12px;
            padding: 1.5rem;
            margin-bottom: 1rem;
        }

        .card-title {
            font-size: 1rem;
            font-weight: 600;
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .form-group {
            margin-bottom: 1rem;
        }

        label {
            display: block;
            font-size: 0.875rem;
            color: var(--text-muted);
            margin-bottom: 0.5rem;
        }

        input,
        textarea,
        select {
            width: 100%;
            padding: 0.75rem 1rem;
            background: var(--bg-input);
            border: 1px solid var(--border);
            border-radius: 8px;
            color: var(--text);
            font-size: 0.875rem;
        }

        input:focus,
        select:focus {
            outline: none;
            border-color: var(--primary);
        }

        input[type="password"] {
            font-family: monospace;
            letter-spacing: 2px;
        }

        .input-group {
            display: flex;
            gap: 0.5rem;
        }

        .input-group input {
            flex: 1;
        }

        .btn {
            padding: 0.5rem 1rem;
            border-radius: 6px;
            font-weight: 500;
            font-size: 0.875rem;
            border: none;
            cursor: pointer;
            transition: all 0.2s;
        }

        .btn-primary {
            background: var(--primary);
            color: white;
        }

        .btn-primary:hover {
            background: var(--primary-hover);
        }

        .btn-secondary {
            background: var(--bg-input);
            color: var(--text);
            border: 1px solid var(--border);
        }

        .btn-success {
            background: var(--success);
            color: white;
        }

        .status {
            display: inline-flex;
            align-items: center;
            gap: 0.25rem;
            font-size: 0.75rem;
            padding: 0.25rem 0.5rem;
            border-radius: 4px;
        }

        .status-ok {
            background: rgba(34, 197, 94, 0.2);
            color: var(--success);
        }

        .status-missing {
            background: rgba(239, 68, 68, 0.2);
            color: var(--danger);
        }

        .row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
        }

        .help-text {
            font-size: 0.75rem;
            color: var(--text-muted);
            margin-top: 0.25rem;
        }

        .back-link {
            color: var(--text-muted);
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
        }

        .back-link:hover {
            color: var(--text);
        }

        .toast {
            position: fixed;
            bottom: 2rem;
            right: 2rem;
            background: var(--success);
            color: white;
            padding: 1rem 1.5rem;
            border-radius: 8px;
            display: none;
        }

        .toast.show {
            display: block;
            animation: slideIn 0.3s ease;
        }

        @keyframes slideIn {
            from {
                transform: translateY(20px);
                opacity: 0;
            }

            to {
                transform: translateY(0);
                opacity: 1;
            }
        }
    </style>
</head>

<body>
    <header>
        <a href="/" class="logo" style="text-decoration: none;">ğŸ¨ Tax Webtoon Auto-Generator</a>
        <a href="/" class="back-link">â† ë©”ì¸ìœ¼ë¡œ</a>
    </header>

    <main>
        <h1>âš™ï¸ ì„¤ì •</h1>

        <div class="tabs">
            <div class="tab active" data-tab="api">API í‚¤</div>
            <div class="tab" data-tab="character">ìºë¦­í„°</div>
            <div class="tab" data-tab="style">ìŠ¤íƒ€ì¼</div>
            <div class="tab" data-tab="output">ì¶œë ¥</div>
        </div>

        <!-- API í‚¤ íƒ­ -->
        <div class="tab-content active" id="tab-api">
            <div class="card">
                <div class="card-title">ğŸ¤– AI í…ìŠ¤íŠ¸ ìƒì„± (Gemini)</div>
                <div class="form-group">
                    <label>Gemini API Key</label>
                    <div class="input-group">
                        <input type="password" id="gemini-key" placeholder="AIza...">
                        <button class="btn btn-secondary" onclick="togglePassword('gemini-key')">ğŸ‘</button>
                        <span class="status status-ok" id="gemini-status">âœ“ ì—°ê²°ë¨</span>
                    </div>
                    <div class="help-text">Google AI Studioì—ì„œ ë°œê¸‰: <a href="https://aistudio.google.com/apikey"
                            target="_blank" style="color: var(--primary);">ë°œê¸‰ ë§í¬</a></div>
                </div>
                <div class="form-group">
                    <label>Gemini ëª¨ë¸</label>
                    <select id="gemini-model">
                        <option value="gemini-2.0-flash" selected>Gemini 2.0 Flash (ë¹ ë¦„)</option>
                        <option value="gemini-2.0-flash-lite">Gemini 2.0 Flash Lite (ê²½ì œì )</option>
                        <option value="gemini-1.5-pro">Gemini 1.5 Pro (ê³ í’ˆì§ˆ)</option>
                        <option value="gemini-1.5-flash">Gemini 1.5 Flash</option>
                    </select>
                </div>
            </div>

            <div class="card">
                <div class="card-title">ğŸ¨ AI ì´ë¯¸ì§€ ìƒì„± (OpenAI)</div>
                <div class="form-group">
                    <label>OpenAI API Key</label>
                    <div class="input-group">
                        <input type="password" id="openai-key" placeholder="sk-proj-...">
                        <button class="btn btn-secondary" onclick="togglePassword('openai-key')">ğŸ‘</button>
                        <span class="status status-ok" id="openai-status">âœ“ ì—°ê²°ë¨</span>
                    </div>
                    <div class="help-text">OpenAI Platformì—ì„œ ë°œê¸‰</div>
                </div>
                <div class="form-group">
                    <label>ì´ë¯¸ì§€ ìƒì„± ëª¨ë¸</label>
                    <select id="image-model">
                        <option value="dall-e-3" selected>DALL-E 3 (ê³ í’ˆì§ˆ)</option>
                        <option value="dall-e-2">DALL-E 2 (ê²½ì œì )</option>
                        <option value="gpt-image-1">GPT Image 1 (ìµœì‹ )</option>
                    </select>
                </div>
            </div>

            <div class="card">
                <div class="card-title">â˜ï¸ ì´ë¯¸ì§€ í˜¸ìŠ¤íŒ… (Cloudinary)</div>
                <div class="row">
                    <div class="form-group">
                        <label>Cloud Name</label>
                        <input type="text" id="cloudinary-name" placeholder="your-cloud-name">
                    </div>
                    <div class="form-group">
                        <label>API Key</label>
                        <input type="password" id="cloudinary-key" placeholder="123456789...">
                    </div>
                </div>
                <div class="form-group">
                    <label>API Secret</label>
                    <div class="input-group">
                        <input type="password" id="cloudinary-secret" placeholder="abcdef...">
                        <span class="status status-ok" id="cloudinary-status">âœ“ ì—°ê²°ë¨</span>
                    </div>
                </div>
                <div class="help-text">Cloudinary Dashboardì—ì„œ í™•ì¸ ê°€ëŠ¥</div>
            </div>

            <div class="card">
                <div class="card-title">ğŸ“± Instagram Graph API</div>
                <div class="form-group">
                    <label>Access Token</label>
                    <input type="password" id="instagram-token" placeholder="EAAG...">
                </div>
                <div class="form-group">
                    <label>Business Account ID</label>
                    <div class="input-group">
                        <input type="text" id="instagram-id" placeholder="17841...">
                        <span class="status status-ok" id="instagram-status">âœ“ ì—°ê²°ë¨</span>
                    </div>
                </div>
                <div class="help-text">Facebook ê°œë°œì ì½˜ì†”ì—ì„œ ë°œê¸‰</div>
            </div>
        </div>

        <!-- ìºë¦­í„° íƒ­ -->
        <div class="tab-content" id="tab-character">
            <div class="card">
                <div class="card-title">ğŸ‘¤ ê¸°ë³¸ ìºë¦­í„° ì„¤ì •</div>
                <div class="row">
                    <div class="form-group">
                        <label>ì§ˆë¬¸ì ìœ í˜•</label>
                        <select id="questioner-type">
                            <option value="ì¼ë°˜ì¸">ì¼ë°˜ì¸</option>
                            <option value="ì‚¬ì—…ì">ì‚¬ì—…ì</option>
                            <option value="ì§ì¥ì¸">ì§ì¥ì¸</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>ì „ë¬¸ê°€ ìœ í˜•</label>
                        <select id="expert-type">
                            <option value="ì„¸ë¬´ì‚¬">ì„¸ë¬´ì‚¬</option>
                            <option value="ë³€í˜¸ì‚¬">ë³€í˜¸ì‚¬</option>
                            <option value="ë…¸ë¬´ì‚¬">ë…¸ë¬´ì‚¬</option>
                            <option value="íšŒê³„ì‚¬">íšŒê³„ì‚¬</option>
                        </select>
                    </div>
                </div>
                <div class="form-group">
                    <label>
                        <input type="checkbox" id="auto-emotion" checked> ëŒ€ì‚¬ì— ë”°ë¼ í‘œì • ìë™ ì„¤ì •
                    </label>
                </div>
            </div>
        </div>

        <!-- ìŠ¤íƒ€ì¼ íƒ­ -->
        <div class="tab-content" id="tab-style">
            <div class="card">
                <div class="card-title">ğŸ¨ ì´ë¯¸ì§€ ìŠ¤íƒ€ì¼</div>
                <div class="row">
                    <div class="form-group">
                        <label>ë©”ì¸ ìŠ¤íƒ€ì¼</label>
                        <select id="image-style">
                            <option value="webtoon">ì›¹íˆ°</option>
                            <option value="card_news">ì¹´ë“œë‰´ìŠ¤</option>
                            <option value="simple">ì‹¬í”Œ</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>ì„œë¸Œ ìŠ¤íƒ€ì¼</label>
                        <select id="sub-style">
                            <option value="normal">ì¼ë°˜</option>
                            <option value="ghibli">ì§€ë¸Œë¦¬</option>
                            <option value="romance">ë¡œë§¨ìŠ¤</option>
                            <option value="business">ë¹„ì¦ˆë‹ˆìŠ¤</option>
                        </select>
                    </div>
                </div>
            </div>

            <div class="card">
                <div class="card-title">âœï¸ í…ìŠ¤íŠ¸ ì„¤ì •</div>
                <div class="row">
                    <div class="form-group">
                        <label>ëŒ€ì‚¬ ë°°ì¹˜</label>
                        <select id="dialogue-placement">
                            <option value="bubble">ë§í’ì„ </option>
                            <option value="subtitle">í•˜ë‹¨ ìë§‰</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>í°íŠ¸ í¬ê¸°</label>
                        <select id="font-size">
                            <option value="20">ì‘ê²Œ (20px)</option>
                            <option value="24" selected>ë³´í†µ (24px)</option>
                            <option value="28">í¬ê²Œ (28px)</option>
                        </select>
                    </div>
                </div>
            </div>
        </div>

        <!-- ì¶œë ¥ íƒ­ -->
        <div class="tab-content" id="tab-output">
            <div class="card">
                <div class="card-title">ğŸ“ ë ˆì´ì•„ì›ƒ</div>
                <div class="row">
                    <div class="form-group">
                        <label>ì´ë¯¸ì§€ ë¹„ìœ¨</label>
                        <select id="aspect-ratio">
                            <option value="1:1">1:1 (ì •ì‚¬ê°í˜•)</option>
                            <option value="4:5" selected>4:5 (ì¸ìŠ¤íƒ€ ì„¸ë¡œ)</option>
                            <option value="9:16">9:16 (ë¦´ìŠ¤/ìŠ¤í† ë¦¬)</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>í˜ì´ì§€ ë²ˆí˜¸ ìœ„ì¹˜</label>
                        <select id="page-number-pos">
                            <option value="bottom_right" selected>ìš°í•˜ë‹¨</option>
                            <option value="bottom_left">ì¢Œí•˜ë‹¨</option>
                            <option value="top_right">ìš°ìƒë‹¨</option>
                            <option value="none">í‘œì‹œ ì•ˆí•¨</option>
                        </select>
                    </div>
                </div>
            </div>

            <div class="card">
                <div class="card-title">ğŸ’¾ ì €ì¥ ì„¤ì •</div>
                <div class="row">
                    <div class="form-group">
                        <label>íŒŒì¼ í˜•ì‹</label>
                        <select id="file-format">
                            <option value="png" selected>PNG</option>
                            <option value="jpg">JPG</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>í’ˆì§ˆ (JPG)</label>
                        <select id="quality">
                            <option value="80">ë³´í†µ (80%)</option>
                            <option value="90" selected>ë†’ìŒ (90%)</option>
                            <option value="100">ìµœìƒ (100%)</option>
                        </select>
                    </div>
                </div>
            </div>
        </div>

        <div style="display: flex; justify-content: flex-end; gap: 0.5rem; margin-top: 1.5rem;">
            <button class="btn btn-secondary" onclick="resetSettings()">ì´ˆê¸°í™”</button>
            <button class="btn btn-primary" onclick="saveSettings()">ğŸ’¾ ì„¤ì • ì €ì¥</button>
        </div>
    </main>

    <div class="toast" id="toast">âœ“ ì„¤ì •ì´ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤</div>

    <script>
        // íƒ­ ì „í™˜
        document.querySelectorAll('.tab').forEach(tab => {
            tab.addEventListener('click', () => {
                document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
                document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
                tab.classList.add('active');
                document.getElementById('tab-' + tab.dataset.tab).classList.add('active');
            });
        });

        // ë¹„ë°€ë²ˆí˜¸ í† ê¸€
        function togglePassword(id) {
            const input = document.getElementById(id);
            input.type = input.type === 'password' ? 'text' : 'password';
        }

        // ì„¤ì • ì €ì¥
        function saveSettings() {
            const settings = {
                gemini_model: document.getElementById('gemini-model').value,
                image_model: document.getElementById('image-model').value,
                questioner_type: document.getElementById('questioner-type').value,
                expert_type: document.getElementById('expert-type').value,
                auto_emotion: document.getElementById('auto-emotion').checked,
                image_style: document.getElementById('image-style').value,
                sub_style: document.getElementById('sub-style').value,
                dialogue_placement: document.getElementById('dialogue-placement').value,
                font_size: document.getElementById('font-size').value,
                aspect_ratio: document.getElementById('aspect-ratio').value,
                page_number_pos: document.getElementById('page-number-pos').value,
                file_format: document.getElementById('file-format').value,
                quality: document.getElementById('quality').value
            };
            localStorage.setItem('webtoon_settings', JSON.stringify(settings));

            // í† ìŠ¤íŠ¸ í‘œì‹œ
            const toast = document.getElementById('toast');
            toast.classList.add('show');
            setTimeout(() => toast.classList.remove('show'), 2000);
        }

        // ì„¤ì • ë¶ˆëŸ¬ì˜¤ê¸°
        function loadSettings() {
            const saved = localStorage.getItem('webtoon_settings');
            if (saved) {
                const settings = JSON.parse(saved);
                Object.keys(settings).forEach(key => {
                    const el = document.getElementById(key.replace(/_/g, '-'));
                    if (el) {
                        if (el.type === 'checkbox') el.checked = settings[key];
                        else el.value = settings[key];
                    }
                });
            }
        }

        // ì´ˆê¸°í™”
        function resetSettings() {
            if (confirm('ëª¨ë“  ì„¤ì •ì„ ì´ˆê¸°ê°’ìœ¼ë¡œ ë˜ëŒë¦¬ì‹œê² ìŠµë‹ˆê¹Œ?')) {
                localStorage.removeItem('webtoon_settings');
                location.reload();
            }
        }

        // í˜ì´ì§€ ë¡œë“œ ì‹œ ì„¤ì • ë¶ˆëŸ¬ì˜¤ê¸°
        loadSettings();
    </script>
</body>

</html>